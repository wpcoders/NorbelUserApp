<ion-header class="norbel-header">
  <ion-toolbar>
    <ion-title>Norbel</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button class="menu-icon-2"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>

  <ion-item lines="none" class="page-title-box  ion-no-padding" style="--inner-padding-end: 0 !important;">
    <ion-label>
      {{cafe_name}}
    </ion-label>
  </ion-item>

<div *ngIf="banner_notification != ''" >
  <div class="error-bg-22" [ngStyle]="{'background-color': banner_color}" (click)="gotoNotificationDetails()">
    <ion-slides >
      <ion-slide *ngFor="let item of banner_notification" >
        <p>
          {{item.banner_text}} 
        </p>
      </ion-slide>
    </ion-slides>
  </div>
</div>
  <div class="page-pad-box">

    <div class="add-cafe-content">

      <ion-grid>

        <ion-row>
          <ion-col size="6">
            <div class=" brewed-down-loader">
              <progress class="pie" max="100" style="--progress:{{coffeeProgress}}"></progress>
              <img [src]="image_path+cafe_logo" class="loader-logo-img">
            </div>
          </ion-col>
          <ion-col size="6">
            <h3>Almost there.</h3>
            <ion-label> Youâ€™re only {{cafe_counter}}
              coffees away
              from your next freebie!
            </ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <ion-button expand="block" class="scan-open-btn" (click)="doQrCode()">Scan Code</ion-button>
          </ion-col>
          <ion-col size="6">
            <ion-button expand="block" class="scan-open-btn" (click)="doCafeMenu()">Open Menu</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      <div class="offer-box">
        <ion-slides class="offer-scroll-box">
          <ion-slide *ngFor="let item of offers">
            <ion-card class="card-box offer-scroll-card">
              <ion-card-content class=" ion-no-padding">
                <div class="offer-box-22">
                  <div class="offer-img-box-22">
                    <div class="offer-img">
                      <img [src]="offer_path+'/'+item.offer_image">
                    </div>
                  </div>
                  <div class="offer-info-box-22">
                    <div class="offer-box">
                      <h1 class="offer-box-title mrg-b-1">{{item.offer_name}}</h1>
                      <small>Expires {{item.expiry_date}}</small>
                      <small>Offer terms and conditions apply </small>
                    </div>
                  </div>
                </div>
              </ion-card-content>
            </ion-card>
          </ion-slide>
        </ion-slides>
      </div>
      <ion-card class="card-box" *ngIf="is_birthday == '1'">
        <ion-card-content class=" ion-no-padding">
          <div class="offer-box-22">
            <div class="offer-img-box-22">
              <div class="offer-img">
                <img src="assets/img/coffee-icon-33.png">
              </div>
            </div>
            <div class="offer-info-box-22">

              <div class="offer-box">
                <h1 class="offer-box-title mrg-b-1">Birthday Coffee!!!!</h1>

                <div class="redeem-btn-box">
                  <ion-button class="redeem-btn" (click)="doBirthdayCoffee()">Redeem</ion-button>
                </div>
                <div class="small-text-box-redeem">
                  <small>Express tomorrow</small>
                  <small>Offer terms and conditions apply </small>
                </div>
              </div>
            </div>
          </div>
        </ion-card-content>
      </ion-card>


      <ion-card class="card-box reserve-table" *ngIf="bookedStatus == '0'">
        <ion-card-content class="ion-no-padding">
          <ion-row>
            <ion-col size="12">
              <h1 class="offer-box-title">Reserve a table</h1>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="7">
              <ion-label style="margin-top:5px !important;"> Number of People </ion-label>
            </ion-col>
            <ion-col size="5">
              <div class="people-counter">
                <ion-row>
                  <ion-col size="4" (click)="numberOfPeopleRemoveCount()">
                    <ion-label> - </ion-label>
                  </ion-col>
                  <ion-col size="4">
                    <ion-label> {{numberOfPeopleCount}} </ion-label>
                  </ion-col>
                  <ion-col size="4" (click)="numberOfPeopleAddCount()">
                    <ion-label> + </ion-label>
                  </ion-col>
                </ion-row>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="7">
              <ion-label style="margin-top: 5px !important;"> Date </ion-label>
            </ion-col>
            <ion-col size="5">
              <div class="people-counter">
                <ion-row>
                  <ion-col size="12">
                    <!-- <ion-label> Select Time  </ion-label> -->
                    <!-- <ion-datetime class="date-pic-box" displayFormat="h:mm A" placeholder="Select Time" [(ngModel)]="bookingTime"></ion-datetime> 
                  -->
                    <ion-datetime class="date-pic-box" placeholder="Select Date" display-timezone="utc" [min]='today'
                      max='2050-12-31' [(ngModel)]="selectedDate" (ionChange)="date(selectedDate)"></ion-datetime>

                  </ion-col>

                </ion-row>
              </div>

            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="7">
              <ion-label style="margin-top: 5px !important;"> Time </ion-label>
            </ion-col>
            <ion-col size="5">
              <div class="people-counter">
                <ion-row>
                  <ion-col size="12">
                    <!-- <ion-label> Select Time  </ion-label> -->
                    <ion-datetime class="date-pic-box" displayFormat="h:mm A" placeholder="Select Time"
                      [(ngModel)]="bookingTime"></ion-datetime>
                  </ion-col>

                </ion-row>
              </div>

            </ion-col>
          </ion-row>
          <ion-button expand="block" class="cancel-booking-btn" (click)="doAddBooking()">Book Now</ion-button>
        </ion-card-content>
      </ion-card>

      <ion-card class="card-box reserve-table" *ngIf="bookedStatus == '1'">
        <ion-card-content class="ion-no-padding">
          <ion-row>
            <ion-col size="12">
              <h1 class="offer-box-title">Your Reserved Table</h1>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-label style="text-align: center;">{{number_of_people}} Person,</ion-label>
              <ion-label style="text-align: center;">{{booking_time}} {{day}} </ion-label>
            </ion-col>
            <ion-col size="12">
              <ion-button expand="block" class="cancel-booking-btn" (click)="presentConfirm()">Cancel Booking
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
    </div>
  </div>

</ion-content>

<!-- <ion-footer class="page-footer-box">
  <ion-button expand="block" class="norbel-btn" ></ion-button>
</ion-footer> -->